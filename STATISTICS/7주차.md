# 통계학 7주차 정규과제

📌통계학 정규과제는 매주 정해진 분량의 『*데이터 분석가가 반드시 알아야 할 모든 것*』 을 읽고 학습하는 것입니다. 이번 주는 아래의 **Statistics_7th_TIL**에 나열된 분량을 읽고 `학습 목표`에 맞게 공부하시면 됩니다.

아래의 문제를 풀어보며 학습 내용을 점검하세요. 문제를 해결하는 과정에서 개념을 스스로 정리하고, 필요한 경우 추가자료와 교재를 다시 참고하여 보완하는 것이 좋습니다.

7주차는 `3부. 데이터 분석하기`를 읽고 새롭게 배운 내용을 정리해주시면 됩니다.


## Statistics_7th_TIL

### 3부. 데이터 분석하기
### 13.머신러닝 분석 방법론
### 14.모델 평가



## Study Schedule

|주차 | 공부 범위     | 완료 여부 |
|----|----------------|----------|
|1주차| 1부 p.2~56     | ✅      |
|2주차| 1부 p.57~79    | ✅      | 
|3주차| 2부 p.82~120   | ✅      | 
|4주차| 2부 p.121~202  | ✅      | 
|5주차| 2부 p.203~254  | ✅      | 
|6주차| 3부 p.300~356  | ✅      | 
|7주차| 3부 p.357~615  | ✅      | 

<!-- 여기까진 그대로 둬 주세요-->

# 13.머신러닝 분석 방법론

```
✅ 학습 목표 :
* 선형 회귀와 다항 회귀를 비교하고, 데이터를 활용하여 적절한 회귀 모델을 구축할 수 있다. 
* 로지스틱 회귀 분석의 개념과 오즈(Odds)의 의미를 설명하고, 분류 문제에 적용할 수 있다.
* k-means 알고리즘의 원리를 설명하고, 적절한 군집 개수를 결정하여 데이터를 군집화할 수 있다.
```

## 13.1. 선형 회귀분석과 Elastic Net(예측모델)
<!-- 새롭게 배운 내용을 자유롭게 정리해주세요.-->
<!-- `13.1.3. Ridge와 Lasso 그리고 Elastic Net` 부분은 제외하고 학습하셔도 무방합니다.-->

✏️ __회귀분석__   
: '평균 회귀'이론의 경험적 연구로 시작되 종속변수 Y의 값에 영향을 주는 독립변수 X들의 조건을 고려하여 구한 평균값
- '평균 회귀'이론의 경험적 연구로 시작됨      
-  `산점도`를 통해 시각적으로 확인 가능
- 모든 단위의 집단에 대한 평균을 통과하는 직선 (오차를 최소화하여 그은 선) → `회귀선`

![1](../STATISTICS/imgstat/image%20copy%2065.png)

🔸 회귀선: 절편, 기울기, 오차항으로 구성   
🔸 오차항: 독립변수가 종속변수에 주는 영향력을 제외한 변화량   
→ 회귀분석은 이 `오차항을 최소화하는 절편과 기울기`를 구하는 것!
$$y = \beta_0 + \beta_1 x_1 + ... + \beta_n x_n + \varepsilon $$  

💡 최적의 회귀선은 __예측치와 관측치들 간의 수직 거리(오차)의 제곱합이 최소한 직선!__   
→ `최소제곱추정법`

🔸 단순 회귀분석(단별량 회귀분석): 독립변수가 하나
🔸 다중 회귀분석(다변량 회귀분석): 독립변수가 두 개 이상

🔢 __회귀분석에서 충족되어야 하는 조건__
1. 상관분석, VIF 값 확인 등을 통해 다중공선성 확인
2. 잔차의 정규성 확인 (잔차 히스토그램, Q-Q Plot, 샤피로-월크 검정, 앤더슨-달링 검정)
3. 잔차의 등분산성 확인
4. 독립변수들 간의 상관관계 확인
5. 독립변수들간의 선형성 확인

✏️ __다항회귀__   
: 독립변수와 종속변수의 관계가 곡선형 관계일 때 변수에 각 특성의 제곱을 추가하여 회귀선을 곡선형으로 변환하는 모델    
❗️차수가 커질 수록 편향은 감소하지만 변동성 증가 → 분산이 늘어나고 `과적합` 유발 가능

🔢 __회귀분석의 기본 가설__   
- 귀무가설: 모든 회귀계수가 0이다    
- 대립가설: 적어도 하나의 변수는 회귀계수가 0이 아니다


✏️ __T Value__   
: 노이즈 대비 시그널의 강도 (독립변수와 종속변수 간에 선형관계가 얼마나 강한지)   
계숫값 / 표준오차

🔢 __다중공선성 변수 선택 알고리즘__
- 전진 선택법
- 후진 제거법
- 단계적 선택법

✏️ __Ridge__   
: 전체 변수를 모두 유지하면서 각 변수의 계수 크기를 조정

✏️ __Lasso__   
: Ridge와 유사하지만, 중요한 몇 개의 변수만 선택하고 나머지 변수들은 계수를 0으로 주어 변수의 영향력을 제거

✏️ __Elastic Net__   
: Ridge의 변환된 계수가 0이 될 수 없다는 특성과 Lasso의 0이 될 수 있다는 특성을 결합한 절충 모델


## 13.2. 로지스틱 회귀분석 (분류모델)
<!-- 새롭게 배운 내용을 자유롭게 정리해주세요.-->

✏️ __로지스틱 회귀분석__   
: 질적척도인 종속변수를 통해 어던 카테고리에 들어갈지 분류하는 모델 (기본 모형은 종속변수가 0과 1이라는 이항)

![1](../STATISTICS/imgstat/image%20copy%2066.png)

🔸 __오즈__   
: 사건이 발생할 가능성이 발생하지 않을 가능성보다 어느 정도 큰지를 나타내는 값   
$$\text{Odds} = \frac{p}{1 - p}$$

🔸 __시그모이드 함수__   
: 발생 확률이 1에 가까워질수록 오즈 값이 기하급수적으로 커지고 최솟값이 0이 되어 로그변환 후에도 0에서 1 사이의 범위를 나타내지 못하는 문제를 해결하기 위한 변환식

$$\sigma(x) = \frac{1}{1 + e^{-x}}$$




## 13.8. k-means 클러스터링(군집모델)
<!-- 새롭게 배운 내용을 자유롭게 정리해주세요.-->
✏️ __k-means 클러스터링__   
: 미리 가지고 있는 정답(레이블) 없이 데이터의 특성과 구조를 발견해내는 비지도학습

🔢 __클러스터링 과정__   
1. 분류할 군집 수(k) 설정
2. 중심점에서 각 관측치 간의 유클리드 거리 측정
3. 각 중심점과 가까운 관측치들을 군집으로 할당
4. 할당된 군집의 관측치들과 해당 중심점과의 유클리드 거리 측정
5. 중심점을 군집의 중앙으로 이동(군집의 관측치들 간 거리 최소 지점)
6. 중심점이 더 이상 이동하지 않을 때까지 2~5단계 번복

![2](../STATISTICS/imgstat/image%20copy%2067.png)

🔠 __지역 최솟값 문제 방지하기 위한 초기 중심점 선정 방법__     
- 랜덤 방식
- 중심점들을 가능한 한 서로 멀리 떨어져서 설정하는 방법
- 중심점이 밀집되지 않도록 하는 k-means++

🔢 __적절한 k 수 선정 방법__
1. 비즈니스 도메인 지식 활용
2. 엘보우 기법
3. 실루엣 계수 활용

✏️ __DBSCAN__   
: 밀도 기반 원리를 이용한 클러스터링 기법 (k 수 지정 x)   




# 14. 모델 평가

```
✅ 학습 목표 :
* 유의확률(p-value)을 해석할 때 주의할 점을 설명할 수 있다.
* 분석가가 올바른 주관적 판단을 위한 필수 요소를 식별할 수 있다.
```

## 14.3. 회귀성능 평가지표
<!-- 새롭게 배운 내용을 자유롭게 정리해주세요.-->

✏️ __R-Sqaure($R^2$)   
: 회귀모델의 회귀선이 종속변수 y값을 얼마나 잘 설명할 수 있는지에 대한 정도   
→ Adjusted R-Square: R-Sqaure가 독립 변수의 개수가 많아질수록 값이 커지는 문제를 보정하는 기준   

✏️ __RMSE__   
: 편차 제곱의 평균에 루트를 씌운 값, 실제 수치와 예측한 수치와의 차이를 확인하는 법

✏️ __MAE__   
: 실젯값과 예측값의 차이 절댓값 합을 n으로 나눈 값

✏️ __MAPE__   
: MAE를 퍼센트로 변환한 것   

✏️ __RMSLE__   
: RMSE와 동일한 수식에서 실젯값과 예측값에 1을 더해준 다음 로그를 취해준 평가 방식

✏️ __AIC__   
: 최대 우도(likelihood)에 독립변수가 얼마나 많은가에 따른 패널티를 반영하여 계산하는 모델 평가 척도

✏️ __BIC__   
: AIC와 유사하지만 변수 개수에 대한 패널티를 더 강하게 부여



## 14.6. 유의확률의 함정
<!-- 새롭게 배운 내용을 자유롭게 정리해주세요.-->

❓ p값이 0.05보다 작으면 무조건 통계적 유의성이 존재하는걸까?    
→ `표본이 커질 수록` p값이 작아짐   
→ 0.05는 `임의적인 기준`임   

🔢 __p값에 대한 성명서__   
1. p값은 데이터가 통계 모델과 얼마나 호환되지 않는지를 나타낼 수 있다
2. p값은 연구 가설이 참일 확률 또는 데이터가 우연만으로 생성됐을 확률을 측정하지 않는다
3. 과학적 결론과 사업 또는 정책 결정은 p값이 특정 임곗값을 통과하는지에 기초해서는 안 된다
4. 적절한 추론에는 완전한 보고와 투명성이 필요하다
p값 또는 통계적 유의성은 효과의 크기나 결과의 중요성을 측정하지 않는다
6. p값은 그 자체로 모델이나 가설에 관한 증거에 대한 훌륭한 척도가 되지 않는다


## 14.7. 분석가의 주관적 판단과 스토리텔링
<!-- 새롭게 배운 내용을 자유롭게 정리해주세요.-->

🔢 __분석가가 올바른 주관적 판단을 하기 위한 방법__   
1. 해당 분야의 풍부한 도메인 지식 
2. 통계쩍 지식을 기반으로 탐색적 데이터 분석(EDA)와 전처리
3. 적극적인 커뮤니케이션과 데이터, 모델 검증

🔢 __프로젝트 흐름__
1. 서론 - 프로젝트의 배경 및 중심 문제 소개
2. 본론 - 현재 문제를 개선하기 위해 한 노력 제시
3. 결론 - 데이터 분석의 결과 및 결론

💡이 흐름을 `로그라인` 을 통해 __전체적인 내용을 한 문장으로__ 만들 수 있어야 함!

<br>
<br>

# 확인 문제

## **문제 1. 선형 회귀**

> **🧚 칼 피어슨의 아버지와 아들의 키 연구 결과를 바탕으로, 다음 선형 회귀식을 해석하세요.**  
> 칼 피어슨(Karl Pearson)은 아버지(X)와 아들(Y)의 키를 조사한 결과를 바탕으로 아래와 같은 선형 회귀식을 도출하였습니다. 아래의 선형 회귀식을 보고 기울기의 의미를 설명하세요. 
>  
> **ŷ = 33.73 + 0.516X**  
>   
> - **X**: 아버지의 키 (cm)  
> - **ŷ**: 아들의 예상 키 (cm)  

```
아버지의 키가 1cm 증가할 때 아들의 예상 키는 0.516cm 증가한다.
```
---

## **문제 2. 로지스틱 회귀**  

> **🧚 다트비에서는 학생의 학업 성취도를 예측하기 위해 다항 로지스틱 회귀 분석을 수행하였습니다. 학업 성취도(Y)는 ‘낮음’, ‘보통’, ‘높음’ 3가지 범주로 구분되며, 독립 변수는 주당 공부 시간(Study Hours)과 출석률(Attendance Rate)입니다. 단, 기준범주는 '낮음' 입니다.**   

| 변수 | Odds Ratio Estimates | 95% Wald Confidence Limits |  
|------|----------------------|--------------------------|  
| Study Hours | **2.34** | (1.89, 2.88) |  
| Attendance Rate | **3.87** | (2.92, 5.13) |  

> 🔍 Q1. Odds Ratio Estimates(오즈비, OR)의 의미를 해석하세요.

<!--변수 Study Hours의 오즈비 값이 2.34라는 것과 Attendance Rate의 오즈비 값이 3.87이라는 것이 각각 무엇을 의미하는지 구체적으로 생각해보세요.-->

```
Study Hours의 오즈비 값이 2.34라는 것:
주당 공부 시간이 1시간 증가할 때, 학업 성취도가 '낮음' 대비 '보통' 또는 '높음'이 될 확률이 2.34배 증가한다.  

Attendance Rate의 오즈비 값이 3.87이라는 것:
출석률이 1% 증가할 때, 학업 성취도가 '보통' 또는 '높음' 범주로 분류될 확률이 3.87배 상승한다.
```

> 🔍 Q2. 95% Wald Confidence Limits의 의미를 설명하세요.
<!--각 변수의 신뢰구간에 제시된 수치가 의미하는 바를 생각해보세요.-->

```
Study Hours:
주당 공부 시간이 1시간 증가할 때, 학업 성취도가 '보통' 또는 '높음'이 될 확률이 95% 신뢰수준에서 1.89배에서 2.88배 사이가 될 것으로 추정된다.

Attendance Rate:
출석률이 1% 증가할 때, 학업 성취도가 '보통' 또는 '높음'이 될 확률이 95% 신뢰수준에서 2.92배에서 5.13배 사이일 것으로 추정된다.
```

> 🔍 Q3. 이 분석을 기반으로 학업 성취도를 향상시키기 위한 전략을 제안하세요.
<!--Study Hours와 Attendance Rate 중 어느 변수가 학업 성취도에 더 큰 영향을 미치는지를 고려하여, 학업 성취도를 향상시키기 위한 효과적인 전략을 구체적으로 제시해보세요.-->

```
출석률의 오즈비가 3.87로 영향력이 더 크기 때문에 공부 시간보다 출석율을 먼저 높이기 위해 출석 보상 제도를 실시한다.
```

---


## **문제 3. k-means 클러스터링**

> **🧚 선교는 고객을 유사한 그룹으로 분류하기 위해 k-means 클러스터링을 적용했습니다. 초기에는 3개의 군집으로 설정했지만, 결과가 만족스럽지 않았습니다. 선교가 최적의 군집 수를 찾기 위해 사용할 수 있는 방법을 한 가지 이상 제시하고 설명하세요.**

```
1. 엘보우 기법을 통해 최적 k값을 도출
2. 동일한 군집 안에 있는 관측치들 간의 평균 거리, 가장 가까운 다른 군집과의 평균 거리를 구해 실루엣 계수를 계산
3. 비즈니스 도메인 지식을 통한 개수 선정
```

### 🎉 수고하셨습니다.